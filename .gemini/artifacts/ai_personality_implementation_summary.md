# AI Personality åŠŸèƒ½å®ç°æ€»ç»“

## æ¦‚è¿°
æˆåŠŸå®ç°äº† AI Personality é…ç½®åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·åœ¨åˆ›å»ºåœºæ™¯æ—¶é€‰æ‹© AI çš„æ€§æ ¼é£æ ¼ï¼Œä»è€Œè·å¾—ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒã€‚

## ä¿®æ”¹çš„æ–‡ä»¶

### 1. Scene æ¨¡å‹ (`scene.dart`)
**ä¿®æ”¹å†…å®¹ï¼š**
- æ·»åŠ  `personality` å­—æ®µï¼ˆç±»å‹ï¼šStringï¼‰
- é»˜è®¤å€¼ï¼š`'Gentle'`ï¼ˆå‘åå…¼å®¹ï¼‰
- æ”¯æŒä¸‰ç§æ€§æ ¼ï¼šGentleï¼ˆæ¸©å’Œï¼‰ã€Strictï¼ˆä¸¥æ ¼ï¼‰ã€Humorousï¼ˆå¹½é»˜ï¼‰

**ä»£ç å˜æ›´ï¼š**
```dart
final String personality; // AI personality: Gentle, Strict, Humorous

// Constructor
this.personality = 'Gentle', // Default personality for backward compatibility

// toMap()
'personality': personality,

// fromMap()
personality: map['personality'] ?? 'Gentle',
```

### 2. åœºæ™¯é…ç½®é¡µé¢ (`scenario_configuration_screen.dart`)
**ä¿®æ”¹å†…å®¹ï¼š**
- åœ¨åˆ›å»º `updatedScene` æ—¶ä¼ é€’ `_selectedPersonality` å‚æ•°
- ç¡®ä¿ç”¨æˆ·é€‰æ‹©çš„æ€§æ ¼è¢«æ­£ç¡®ä¼ é€’åˆ° ChatScreen

**ä»£ç å˜æ›´ï¼š**
```dart
final updatedScene = Scene(
  // ... å…¶ä»–å­—æ®µ
  personality: _selectedPersonality, // Pass selected personality
);
```

### 3. Chat é¡µé¢é€šçŸ¥å™¨ (`chat_page_notifier.dart`)
**ä¿®æ”¹å†…å®¹ï¼š**
- æ›´æ–° `_buildSceneContext()` æ–¹æ³•
- æ ¹æ® personality ç±»å‹æ·»åŠ å…·ä½“çš„ AI è¡Œä¸ºæŒ‡ä»¤
- å°†æ€§æ ¼æŒ‡ä»¤æ³¨å…¥åˆ° AI prompt ä¸­

**ä»£ç å˜æ›´ï¼š**
```dart
String _buildSceneContext() {
  // Map personality to specific AI behavior instructions
  String personalityInstruction = '';
  switch (_scene.personality) {
    case 'Gentle':
      personalityInstruction = 'Be patient, encouraging, and supportive...';
      break;
    case 'Strict':
      personalityInstruction = 'Be direct, challenging, and precise...';
      break;
    case 'Humorous':
      personalityInstruction = 'Be fun, lighthearted, and engaging...';
      break;
    default:
      personalityInstruction = 'Be helpful and adaptive...';
  }
  
  return 'AI Role: ${_scene.aiRole}, User Role: ${_scene.userRole}. ${_scene.description}\n\nPersonality Style: $personalityInstruction';
}
```

## ä¸‰ç§æ€§æ ¼çš„ç‰¹ç‚¹

### ğŸŒ¸ Gentleï¼ˆæ¸©å’Œå‹ï¼‰
- **é€‚ç”¨åœºæ™¯ï¼š** åˆå­¦è€…ã€ç¼ºä¹è‡ªä¿¡çš„ç”¨æˆ·
- **AI è¡Œä¸ºï¼š**
  - è€å¿ƒã€é¼“åŠ±ã€æ”¯æŒ
  - æ­£é¢åé¦ˆå’Œæ¸©å’Œçº é”™
  - æ¸©æš–å‹å¥½çš„è¯­æ°”
- **å­¦ä¹ æ•ˆæœï¼š** é™ä½ç„¦è™‘æ„Ÿï¼Œå»ºç«‹ä¿¡å¿ƒ

### âš¡ Strictï¼ˆä¸¥æ ¼å‹ï¼‰
- **é€‚ç”¨åœºæ™¯ï¼š** æƒ³è¦å¿«é€Ÿæå‡çš„ç”¨æˆ·ã€æ¨¡æ‹ŸçœŸå®å‹åŠ›åœºæ™¯
- **AI è¡Œä¸ºï¼š**
  - ç›´æ¥ã€æŒ‘æˆ˜æ€§ã€ç²¾ç¡®
  - æ˜ç¡®æŒ‡å‡ºé”™è¯¯
  - ä¸“ä¸šã€ä¸¥è‚ƒçš„è¯­æ°”
- **å­¦ä¹ æ•ˆæœï¼š** æé«˜å­¦ä¹ æ•ˆç‡ï¼Œå¿«é€Ÿè¿›æ­¥

### ğŸ˜„ Humorousï¼ˆå¹½é»˜å‹ï¼‰
- **é€‚ç”¨åœºæ™¯ï¼š** æƒ³è¦è½»æ¾å­¦ä¹ çš„ç”¨æˆ·ã€æ—¥å¸¸å¯¹è¯ç»ƒä¹ 
- **AI è¡Œä¸ºï¼š**
  - æœ‰è¶£ã€è½»æ¾ã€å¸å¼•äºº
  - é€‚å½“ä½¿ç”¨å¹½é»˜
  - è®©å­¦ä¹ å˜å¾—æ„‰å¿«
- **å­¦ä¹ æ•ˆæœï¼š** é™ä½å‹åŠ›ï¼Œæé«˜å‚ä¸åº¦

## å®é™…å½±å“è¯„ä¼°

| æ–¹é¢ | å½±å“ç¨‹åº¦ | è¯´æ˜ |
|------|---------|------|
| å­¦ä¹ æ•ˆæœ | â­â­â­â­ | ä¸åŒæ€§æ ¼é€‚åˆä¸åŒå­¦ä¹ é˜¶æ®µå’Œç›®æ ‡ |
| ç”¨æˆ·æ»¡æ„åº¦ | â­â­â­â­â­ | ä¸ªæ€§åŒ–ä½“éªŒæ˜¾è‘—æå‡æ»¡æ„åº¦ |
| ç”¨æˆ·ç²˜æ€§ | â­â­â­â­ | æ›´å¤šæ§åˆ¶æ„Ÿï¼Œå¢åŠ äº§å“ç²˜æ€§ |
| æŠ€æœ¯å¤æ‚åº¦ | â­â­ | åªéœ€åœ¨ prompt ä¸­æ·»åŠ æ€§æ ¼æè¿° |
| å¼€å‘æˆæœ¬ | â­â­ | ä¿®æ”¹æ¨¡å‹å’Œä¼ å‚å³å¯ï¼Œæˆæœ¬ä½ |

## ä½¿ç”¨æµç¨‹

1. **ç”¨æˆ·é€‰æ‹©åœºæ™¯** â†’ è¿›å…¥åœºæ™¯é…ç½®é¡µé¢
2. **é…ç½® Role Assignment** â†’ å¯ä»¥åˆ‡æ¢ AI å’Œç”¨æˆ·è§’è‰²
3. **é€‰æ‹© AI Personality** â†’ ä»ä¸‰ç§æ€§æ ¼ä¸­é€‰æ‹©ä¸€ç§
4. **ç‚¹å‡» "Start Practice"** â†’ è¿›å…¥èŠå¤©ç•Œé¢
5. **AI æ ¹æ®é€‰æ‹©çš„æ€§æ ¼è¿›è¡Œå¯¹è¯** â†’ æä¾›ä¸ªæ€§åŒ–å­¦ä¹ ä½“éªŒ

## å‘åå…¼å®¹æ€§

- âœ… æ‰€æœ‰ç°æœ‰åœºæ™¯é»˜è®¤ä½¿ç”¨ `'Gentle'` æ€§æ ¼
- âœ… æ•°æ®åº“ä¸­çš„æ—§æ•°æ®ä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼
- âœ… ä¸ä¼šå½±å“ç°æœ‰åŠŸèƒ½

## æµ‹è¯•å»ºè®®

1. **åŠŸèƒ½æµ‹è¯•ï¼š**
   - æµ‹è¯•ä¸‰ç§ä¸åŒæ€§æ ¼çš„ AI å›å¤é£æ ¼
   - éªŒè¯æ€§æ ¼åˆ‡æ¢æ˜¯å¦ç”Ÿæ•ˆ
   - æ£€æŸ¥é»˜è®¤å€¼æ˜¯å¦æ­£ç¡®åº”ç”¨

2. **ç”¨æˆ·ä½“éªŒæµ‹è¯•ï¼š**
   - åœ¨ä¸åŒåœºæ™¯ä¸‹æµ‹è¯•ä¸åŒæ€§æ ¼çš„é€‚ç”¨æ€§
   - æ”¶é›†ç”¨æˆ·å¯¹ä¸åŒæ€§æ ¼çš„åé¦ˆ
   - è¯„ä¼°å­¦ä¹ æ•ˆæœå·®å¼‚

3. **è¾¹ç•Œæµ‹è¯•ï¼š**
   - æµ‹è¯•æœªçŸ¥æ€§æ ¼å€¼çš„å¤„ç†ï¼ˆåº”ä½¿ç”¨ defaultï¼‰
   - æµ‹è¯•æ—§æ•°æ®çš„å…¼å®¹æ€§

## æœªæ¥ä¼˜åŒ–å»ºè®®

1. **æ›´å¤šæ€§æ ¼é€‰é¡¹ï¼š** å¯ä»¥æ·»åŠ æ›´å¤šæ€§æ ¼ç±»å‹ï¼ˆå¦‚ Professionalã€Casual ç­‰ï¼‰
2. **åŠ¨æ€è°ƒæ•´ï¼š** å…è®¸ç”¨æˆ·åœ¨å¯¹è¯è¿‡ç¨‹ä¸­åˆ‡æ¢æ€§æ ¼
3. **æ™ºèƒ½æ¨èï¼š** æ ¹æ®åœºæ™¯ç±»å‹è‡ªåŠ¨æ¨èæœ€é€‚åˆçš„æ€§æ ¼
4. **æ€§æ ¼å¼ºåº¦ï¼š** æ·»åŠ æ€§æ ¼å¼ºåº¦è°ƒèŠ‚ï¼ˆå¦‚ Gentle-Mildã€Gentle-Strongï¼‰
5. **ç”¨æˆ·åå¥½è®°å¿†ï¼š** è®°ä½ç”¨æˆ·æœ€å¸¸ç”¨çš„æ€§æ ¼è®¾ç½®

## ç»“è®º

AI Personality åŠŸèƒ½æ˜¯ä¸€ä¸ª**é«˜ä»·å€¼ã€ä½æˆæœ¬**çš„åŠŸèƒ½å¢å¼ºï¼š
- âœ… æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ
- âœ… æä¾›çœŸæ­£çš„ä¸ªæ€§åŒ–å­¦ä¹ 
- âœ… å®ç°ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½
- âœ… å®Œå…¨å‘åå…¼å®¹

**å»ºè®®ä¿ç•™å¹¶æŒç»­ä¼˜åŒ–è¿™ä¸ªåŠŸèƒ½ï¼** ğŸ¯
